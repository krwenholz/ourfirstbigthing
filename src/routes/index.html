<svelte:head>
  <title>Our first big thing</title>
</svelte:head>

<Introduction />

<StoryPreviews {stories} />

<script>
  export default {
    async preload({ params, query }) {
      const res = await this.fetch(`story.json`);
      if (res.status === 200) {
        return { stories: await res.json() };
      } else {
        // TODO(kyle): We need a real logging library...
        console.error(res);
        this.error(res.status, res);
      }
    },
    components: {
      Introduction: '../components/Introduction.html',
      StoryPreviews: '../components/StoryPreviews.html'
    },
  };
</script>
